pp_bless('PDL::Finance::TA::TALib');
pp_addpm << 'EOPM';
use 5.10.0;
use feature ":5.10";
use Alien::TALib;
BEGIN {
    our $VERSION = '0.01';
    $VERSION = eval $VERSION;
}
EOPM

pp_addhdr << 'EOHDR';
#include <ta_libc.h>
EOHDR

pp_def('movavg',
    Pars => q{
        double x(n);
        int t();
        int [t] onum();
        double [o]y(n);
        int [o] oidx();
    },
    GenericTypes => ['D'],
    Code => q{
        $oidx() = 0;
        $onum() = 0;
        TA_MA(0, $SIZE(n) - 1, $P(x), $t(), 0, $P(oidx), $P(onum), $P(y));
        $PDL(y)->dims[0] = $SIZE(n) - $oidx();
    },
);

pp_export_nothing();
pp_add_exported(qw/movavg/);
pp_done();

__END__
### COPYRIGHT: 2013 Vikas N. Kumar. All Rights Reserved.
### AUTHOR: Vikas N Kumar <vikas@cpan.org>
### DATE: 21st Mar 2013
### LICENSE: Refer LICENSE file
